$(document).ready(function(){var a;var b=700;var c=700;var d=120;var e=50;var f=30;var g=120;var h=b-(f+g);var i=c-(d+e);var j;var k;var l;var m;var n;var o;var p;var q;var r;var s;var t=0;var u=350;var v;var w;var x;var y;var z;var A;var B;var C;var D;var E;var F;var G;var H;var I;var J;var K;var L;var M;var N;$("#about_header").click(function(){$("#about").modal()});$("#help_header").click(function(){$("#help").modal()});var O=d3.format(",.0f"),P=function(a){return""},Q=function(a){return"$"+O(a)},R=function(a){return O(a)+"% "};var S=function(a){if(a.genre=="Action"){return"#FB000D"}else if(a.genre=="Adventure"){return"#00B32D"}else if(a.genre=="Animation"){return"#003366"}else if(a.genre=="Biography"){return"#FF8C00"}else if(a.genre=="Biopic"){return"#7FFF00"}else if(a.genre=="Comedy"){return"#1E90FF"}else if(a.genre=="Crime"){return"#006363"}else if(a.genre=="Documentary"){return"#006400"}else if(a.genre=="Drama"){return"#7FFF00"}else if(a.genre=="Fantasy"){return"#6E0069"}else if(a.genre=="Horror"){return"#000"}else if(a.genre=="Musical"){return"#FF6EB4"}else if(a.genre=="Mystery"){return"#3E0038"}else if(a.genre=="Romance"){return"#FFBB73"}else if(a.genre=="Thriller"){return"#FFCC00"}else{return"#FF0000"}};var T=function(a){if(a.year=="2007"){return"#FF0000"}else if(a.year=="2008"){return"#003366"}else if(a.year=="2009"){return"#FFCC00"}else if(a.year=="2010"){return"#FF8C00"}else if(a.year=="2011"){return"#006363"}else{return"#7FFF00"}};var U;d3.json("data/hw_all.json",function(e){function bQ(){k.selectAll(".prof_log").transition().duration(1e3).style("stroke","#fff").attr("y1",b+100).attr("y2",b+100)}function bP(){k.selectAll(".prof_log").transition().duration(1e3).style("stroke","#666").attr("y1",x(100)).attr("y2",x(100)).attr("x1",0).attr("x2",i)}function bO(){k.append("line").attr("class","prof_log").attr("x1",0).attr("x2",i).attr("y1",b+100).attr("y2",b+100).style("stroke","#666").style("stroke-width","1px").style("stroke-dasharray","5 3")}function bN(){k.selectAll(".xy").transition().duration(1e3).attr("x1",0).attr("x2",i).attr("y1",b+20).attr("y2",b+20).style("stroke","#CCC")}function bM(){k.selectAll(".xy").transition().duration(1e3).attr("x1",0).attr("x2",i).attr("y1",h).attr("y2",0).style("stroke","#666")}function bL(){k.append("line").attr("class","xy").attr("x1",0).attr("x2",i).attr("y1",b+20).attr("y2",b+20).style("stroke","#CCC").style("stroke-width","1px").style("stroke-dasharray","5 3")}function bK(){k.selectAll(".y.axis").transition().duration(1e3).call(yaxis_budget);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_budget_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).text("Budget ($m)")}function bJ(){k.selectAll(".y.axis").transition().duration(1e3).call(K);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_opening_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).attr("x",-330).text("Opening Weekend ($m)")}function bI(){k.selectAll(".y.axis").transition().duration(1e3).call(J);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_pl_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).text("Profit/Loss ($m)")}function bH(){k.selectAll(".y.axis").transition().duration(1e3).call(H);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_profit_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).text("Profit (%)")}function bG(){k.selectAll(".y.axis").transition().duration(1e3).call(G);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_percent_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).text("Audience Rating")}function bF(){k.selectAll(".y.axis").transition().duration(1e3).call(G);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_percent_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).text("Audience Rating")}function bE(){k.selectAll(".y.axis").transition().duration(1e3).call(F);k.selectAll(".y.axis_ticks").transition().duration(1e3).call(yaxis_gross_ticks);k.selectAll(".y.axis_label").transition().duration(1e3).text("Gross ($m)")}function bD(){k.selectAll(".x.axis").transition().duration(1e3).call(E);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_opening_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",210).text("Opening ($m)")}function bC(){k.selectAll(".x.axis").transition().duration(1e3).call(D);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_percent_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",200).text("Audience Rating")}function bB(){k.selectAll(".x.axis").transition().duration(1e3).call(xaxis_f_gross);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_f_gross_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",200).text("Foreign Gross ($m)")}function bA(){k.selectAll(".x.axis").transition().duration(1e3).call(xaxis_hide);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_hide);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",180).text("Film, ordered by Y-Axis")}function bz(){k.selectAll(".x.axis").transition().duration(1e3).call(xaxis_d_gross);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_d_gross_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",200).text("Domestic Gross ($m)")}function by(){k.selectAll(".x.axis").transition().duration(1e3).call(D);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_percent_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",160).text("Rotten Tomatoes Rating")}function bx(){k.selectAll(".x.axis").transition().duration(1e3).call(xaxis_budget);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_budget_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",215).text("Budget ($m)")}function bw(){k.selectAll(".x.axis").transition().duration(1e3).call(D);k.selectAll(".x.axis_ticks").transition().duration(1e3).call(xaxis_percent_ticks);k.selectAll(".x.axis_label").transition().duration(1e3).attr("x",200).text("Percent")}function bv(){k.append("svg:g").attr("class","x axis").attr("transform","translate(0,"+h+")");k.append("svg:g").attr("class","x axis_ticks").attr("transform","translate(0,"+h+")");k.select(".x.axis").append("text").attr("class","x axis_label").attr("x",160).attr("y",45)}function bu(){N=k.append("svg:g").attr("class","y axis").attr("transform","translate("+0+",0)");N=k.append("svg:g").attr("class","y axis_ticks").attr("transform","translate("+0+",0)");k.select(".y.axis").append("text").attr("class","y axis_label").attr("transform","rotate(-90)").attr("y",-90).attr("x",-325)}function bt(a,b,c,d){if(a==undefined||b==undefined){M=k.selectAll("circle")}else{L=k.selectAll("circle").filter(function(e){var f=0;for(var g=0;g<a.length;g++){if(e.genre==a[g]){f++}}for(var h=0;h<b.length;h++){if(e.year==b[h]){f++}}if(e.budget>=c&&e.budget<=d){f++}if(f==3){return true}else{return false}});M=k.selectAll("circle").filter(function(e){var f=0;for(var g=0;g<a.length;g++){if(e.genre==a[g]){f++}}for(var h=0;h<b.length;h++){if(e.year==b[h]){f++}}if(e.budget<=c||e.budget>=d){return true}if(f<2){return true}else{return false}})}M.transition().duration(0).attr("visibility","hidden");L.transition().duration(0).attr("visibility","none")}function bs(b){var c=j.selectAll("circle").filter(function(a){return a.film==b.film});var d=parseFloat(c.attr("cx"));$("#search").val(b.label);var e=$("#search").val();for(var f=0;f<a.length;f++){if(a[f].label==e){br();bq(a[f])}}}function br(){$("#movie_title").empty();$("#movie_rating").empty();$("#movie_gross").empty();$("#movie_profit").empty();$("#movie_genre").empty();$("#movie_budget").empty();$("#movie_year").empty();if(p=="year"){j.selectAll(".selected").style("fill",T).style("opacity",.7)}else if(p=="genre"){j.selectAll(".selected").style("fill",S).style("opacity",.7)}else{j.selectAll(".selected").style("fill","#000").style("opacity",.7)}if(q=="none"){j.selectAll(".selected").attr("class","").attr("r",3)}else if(q=="budget"){j.selectAll(".selected").attr("class","").attr("r",function(a){return B(a.budget)})}else if(q=="rating"){j.selectAll(".selected").attr("class","").attr("r",function(a){return r_rating(a.rt_rating)})}else if(q=="pl"){j.selectAll(".selected").attr("class","").attr("r",function(a){return r_pl(a.pl)})}bt(O,I,t,u)}function bq(a){U=j.selectAll("circle").filter(function(b){return b.film==a.film});$("#movie_title").html(a.film);$("#movie_rating").html(R(a.rt_rating));$("#movie_gross").html(Q(a.ww_gross));$("#movie_profit").html(R(a.profit));$("#movie_genre").html(a.genre);$("#movie_budget").html(Q(a.budget));$("#movie_year").html(a.year);U.style("fill","#FF0000").style("opacity",.8).attr("class","selected");if(q=="none"){U.transition().duration(0).ease("elastic",1,.3).attr("r",8).transition().delay(400).duration(400).ease("elastic",1,.3).attr("r",3)}else if(q=="budget"){U.transition().duration(400).ease("elastic",1,.3).attr("r",function(a){return B(a.budget)+5}).transition().delay(400).duration(400).ease("elastic",1,.3).attr("r",function(a){return B(a.budget)})}else if(q=="rating"){U.transition().duration(400).ease("elastic",1,.3).attr("r",function(a){return r_rating(a.rt_rating)+5}).transition().delay(400).duration(400).ease("elastic",1,.3).attr("r",function(a){return r_rating(a.rt_rating)})}else if(q=="pl"){U.transition().duration(400).ease("elastic",1,.3).attr("r",function(a){return r_pl(a.pl)+5}).transition().delay(400).duration(400).ease("elastic",1,.3).attr("r",function(a){return r_pl(a.pl)})}}function bp(a){U=k.selectAll("circle").filter(function(b){return b.film==a.film});$("#movie_title").empty();$("#movie_rating").empty();$("#movie_gross").empty();$("#movie_profit").empty();$("#movie_genre").empty();$("#movie_budget").empty();$("#movie_year").empty();if(U.attr("class")=="selected"){U.style("fill","#FF0000").style("opacity",.8)}else{if(p=="year"){U.style("fill",T).style("opacity",.7)}else if(p=="genre"){U.style("fill",S).style("opacity",.7)}else{U.style("fill","#000").style("opacity",.7)}if(q=="none"){U.transition().duration(400).ease("elastic",1,.3).attr("r",3)}else if(q=="budget"){U.transition().duration(400).ease("elastic",1,.3).attr("r",function(a){return B(a.budget)})}else if(q=="rating"){U.transition().duration(400).ease("elastic",1,.3).attr("r",function(a){return r_rating(a.rt_rating)})}else if(q=="pl"){U.transition().duration(400).ease("elastic",1,.3).attr("r",function(a){return r_pl(a.pl)})}}}function bo(a){$("#movie_title").html(a.film);$("#movie_rating").html(R(a.rt_rating));$("#movie_gross").html(Q(a.ww_gross));$("#movie_profit").html(R(a.profit));$("#movie_genre").html(a.genre);$("#movie_budget").html(Q(a.budget));$("#movie_year").html(a.year);U=k.selectAll("circle").filter(function(b){return b.film==a.film});if(U.attr("class")=="selected"){U.style("fill","#000")}else{U.style("fill","#000");r=parseInt(U.attr("r"));U.transition().duration(400).ease("elastic",1,.3).attr("r",r+4)}}function bn(){bN();bQ();bJ();if(n=="film"){k.selectAll("circle").sort(function(a,b){return a.opening-b.opening}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)}).attr("cy",function(a){return z(a.opening)})}else{k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cy",function(a){return z(a.opening)})}o="opening"}function bm(){bN();bQ();bK();k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cy",function(a){return A(a.budget)});o="budget"}function bl(){bN();bQ();bI();if(n=="film"){k.selectAll("circle").sort(function(a,b){return a.pl-b.pl}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)}).attr("cy",function(a){return y(parseFloat(a.pl))})}else{k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cy",function(a){return y(parseFloat(a.pl))})}o="pl"}function bk(){bN();bP();bH();if(n=="film"){k.selectAll("circle").sort(function(a,b){return a.profit-b.profit}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)}).attr("cy",function(a){return x(parseFloat(a.profit))})}else{k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cy",function(a){return x(parseFloat(a.profit))})}o="profit"}function bj(){bN();bQ();bE();if(n=="film"){k.selectAll("circle").sort(function(a,b){return a.ww_gross-b.ww_gross}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)}).attr("cy",function(a){return v(parseFloat(a.ww_gross))})}else{k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cy",function(a){return v(parseFloat(a.ww_gross))})}o="gross"}function bi(){bN();bQ();if(n=="rating_rt"){bM()}bG();if(n=="film"){k.selectAll("circle").sort(function(a,b){return a.aud_rating-b.aud_rating}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)}).attr("cy",function(a){return w(parseFloat(a.aud_rating))})}else{k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cy",function(a){return w(parseFloat(a.aud_rating))})}o="rating_aud"}function bh(){bN();bQ();bx();k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cx",function(a){return x_budget(a.budget)});n="budget"}function bg(){bN();bQ();bD();k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cx",function(a){return m(a.opening)});n="opening"}function bf(){bN();bQ();bC();k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cx",function(a){return l(a.aud_rating)});n="rating_aud"}function be(){bN();bQ();if(o=="rating_aud"){bM()}by();k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).style("fill",T);k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("cx",function(a){return l(a.rt_rating)});n="rating_rt"}function bd(){bQ();bN();bA();n="film";if(o=="gross"){k.selectAll("circle").sort(function(a,b){return parseFloat(a.ww_gross)-parseFloat(b.ww_gross)}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)})}else if(o=="rating_aud"){k.selectAll("circle").sort(function(a,b){return a.aud_rating-b.aud_rating}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)})}else if(o=="profit"){k.selectAll("circle").sort(function(a,b){return a.profit-b.profit}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)})}else if(o=="pl"){k.selectAll("circle").sort(function(a,b){return a.pl-b.pl}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)})}else if(o=="opening"){k.selectAll("circle").sort(function(a,b){return a.opening-b.opening}).transition().delay(function(a,b){return b}).duration(1e3).ease("poly",5).attr("cx",function(a,b){return s(b)})}}function bc(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/6}).duration(700).style("fill",T);p="year";$(".year_label").each(function(){var a=new Object;a.year=$(this).html();$(this).css("color",T(a))});$(".genre_label").each(function(){$(this).css("color","#333")})}function bb(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/6}).duration(700).style("fill",S);p="genre";$(".genre_label").each(function(){var a=new Object;a.genre=$(this).html();$(this).css("color",S(a))});$(".year_label").each(function(){$(this).css("color","#333")})}function ba(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/6}).duration(700).style("fill","#000");p="none";$(".genre_label").each(function(){$(this).css("color","#333")});$(".year_label").each(function(){$(this).css("color","#333")})}function _(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("r",function(a){return r_rating(a.rt_rating)});q="rating"}function Z(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("r",function(a){return r_pl(parseFloat(a.pl))});q="pl"}function Y(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("r",3);q="none"}function X(){k.selectAll("circle").transition().delay(function(a){return parseFloat(a.ww_gross)/3}).duration(700).ease("poly",5).attr("r",function(a){return B(a.budget)});q="budget"}function W(){bv();by();bu();bE();bO();bL();k.selectAll("circle").data(a).enter().append("circle").attr("cy",function(a){return v(parseFloat(a.ww_gross))}).attr("cx",function(a){return l(a.rt_rating)}).attr("r",function(a){return B(a.budget)}).attr("stroke","#FFF").on("mouseover",bo).on("mouseout",bp).on("mousedown",bs);q="budget";n="rating_rt";o="gross";p="none"}function V(){j=d3.select("#chart_container").append("svg:svg").attr("class","chart").attr("width",c).attr("height",b);k=j.append("svg:g").attr("transform","translate("+d+","+f+")");l=d3.scale.linear().domain([0,100]).range([0,i]);m=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.opening)})]).range([0,i]);x_budget=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.budget)})]).range([0,i]);x_f_gross=d3.scale.linear().domain([0,1e3]).range([0,i]);x_d_gross=d3.scale.linear().domain([0,1e3]).range([0,i]);v=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.ww_gross)})]).range([h,0]);w=d3.scale.linear().domain([0,100]).range([h,0]);x=d3.scale.log().domain([1,d3.max(a,function(a){return parseFloat(a.profit)})]).range([h,0]);y=d3.scale.linear().domain([d3.min(a,function(a){return parseFloat(a.pl)}),d3.max(a,function(a){return parseFloat(a.pl)})]).range([h,0]);z=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.opening)})]).range([h,0]);A=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.budget)})]).range([h,0]);B=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.budget)})]).range([2,20]);r_rating=d3.scale.linear().domain([0,100]).range([1,12]);r_pl=d3.scale.linear().domain([0,d3.max(a,function(a){return parseFloat(a.pl)})]).range([2,26]);s=d3.scale.linear().domain([0,a.length]).range([0,i]);D=d3.svg.axis().scale(l).ticks(10).orient("bottom").tickFormat(R);xaxis_percent_ticks=d3.svg.axis().scale(l).ticks(10).orient("bottom").tickFormat(P).tickSize(-h);E=d3.svg.axis().scale(m).orient("bottom").ticks(10).tickFormat(Q);xaxis_opening_ticks=d3.svg.axis().scale(m).orient("bottom").tickFormat(P).ticks(10).tickSize(-h);xaxis_budget=d3.svg.axis().scale(x_budget).orient("bottom").ticks(10).tickFormat(Q);xaxis_budget_ticks=d3.svg.axis().scale(x_budget).orient("bottom").tickFormat(P).ticks(10).tickSize(-h);F=d3.svg.axis().scale(v).orient("left").tickFormat(Q).ticks(10);yaxis_gross_ticks=d3.svg.axis().scale(v).orient("left").tickFormat(P).ticks(10).tickSize(-i);G=d3.svg.axis().scale(w).orient("left").ticks(10).tickFormat(R);yaxis_percent_ticks=d3.svg.axis().scale(w).orient("left").tickFormat(P).ticks(10).tickSize(-i);H=d3.svg.axis().scale(x).orient("left").ticks(15,R);yaxis_profit_ticks=d3.svg.axis().scale(x).orient("left").tickFormat(P).ticks(10).tickSize(-i);J=d3.svg.axis().scale(y).orient("left").ticks(15).tickFormat(Q);yaxis_pl_ticks=d3.svg.axis().scale(y).orient("left").tickFormat(P).ticks(10).tickSize(-i);K=d3.svg.axis().scale(z).orient("left").ticks(15).tickFormat(Q);yaxis_opening_ticks=d3.svg.axis().scale(z).orient("left").tickFormat(P).ticks(10).tickSize(-i);yaxis_budget=d3.svg.axis().scale(A).orient("left").ticks(15).tickFormat(Q);yaxis_budget_ticks=d3.svg.axis().scale(A).orient("left").tickFormat(P).ticks(10).tickSize(-i);D=d3.svg.axis().scale(l).ticks(10).orient("bottom").tickFormat(R);xaxis_percent_ticks=d3.svg.axis().scale(l).ticks(10).orient("bottom").tickFormat(P).tickSize(-h);C=d3.scale.linear().domain([0,0]).range([0,0]);xaxis_hide=d3.svg.axis().scale(C).orient("bottom").tickSize(-i)}a=e;for(var g=0;g<a.length;g++){a[g].label=a[g].film}for(var g=0;g<a.length;g++){a[g].pl=a[g].ww_gross-a[g].budget}$(function(){V();W()});$("#reset_search").click(function(){$("#search").val("");br()});var I=new Array;$(".year").each(function(){I.push($(this).val())});$("#all_years").click(function(){$(".year").each(function(){$(this).prop("checked",true);var a=0;for(var b=0;b<I.length;b++){if(I[b]==$(this).val()){a=1}}if(a==0){I.push($(this).val())}});bt(O,I,t,u)});$("#no_years").click(function(){$(".year").each(function(){$(this).prop("checked",false);I=[]});bt(O,I,t,u)});$(".year").change(function(){if($(this).attr("checked")=="checked"){I.push($(this).val())}else{for(var a=0;a<I.length;a++){if($(this).val()==I[a]){I.splice(a,1)}}}bt(O,I,t,u)});var O=new Array;$(".genre").each(function(){O.push($(this).val())});$("#all_genres").click(function(){$(".genre").each(function(){$(this).prop("checked",true);var a=0;for(var b=0;b<O.length;b++){if(O[b]==$(this).val()){a=1}}if(a==0){O.push($(this).val())}});bt(O,I,t,u)});$("#no_genres").click(function(){$(".genre").each(function(){$(this).prop("checked",false);O=[]});bt(O,I,t,u)});$(".genre").change(function(){if($(this).attr("checked")=="checked"){O.push($(this).val())}else{for(var a=0;a<O.length;a++){if($(this).val()==O[a]){O.splice(a,1)}}}bt(O,I,t,u)});$("#search").autocomplete({source:a,select:function(a,b){br();bq(b.item);return false},focus:function(a,b){$("#search").val(b.item.label);br();bq(b.item);return false}});$("#slider1").slider({range:true,min:0,max:350,values:[0,350],slide:function(a,b){$("#budget_range").html("Budget: $"+b.values[0]+" - $"+b.values[1]);t=b.values[0];u=b.values[1];bt(O,I,t,u)}});$("#reset").click(function(){$("#slider1").slider({values:[0,350]});t=0;u=350;$("#budget_range").html("Budget: $"+t+" - $"+u);bt(O,I,t,u)});$(".x_view").click(function(a){$(".x_view").removeClass("btn-primary");$("#"+a.target.id).addClass("btn-primary")});$("#x_opening").click(function(){bg()});$("#x_budget").click(function(){bh()});$("#x_rating_rt").click(function(){be()});$("#x_rating_aud").click(function(){bf()});$("#x_film").click(function(){bd()});$(".y_view").click(function(a){$(".y_view").removeClass("btn-primary");$("#"+a.target.id).addClass("btn-primary")});$("#y_profit").click(function(){bk()});$("#y_pl").click(function(){bl()});$("#y_rating_aud").click(function(){bi()});$("#y_opening").click(function(){bn()});$("#y_gross").click(function(){bj()});$(".r_view").click(function(a){$(".r_view").removeClass("btn-primary");$("#"+a.target.id).addClass("btn-primary")});$("#r_pl").click(function(){Z()});$("#r_rating").click(function(){_()});$("#r_budget").click(function(){X()});$("#r_none").click(function(){Y()});$(".c_view").click(function(a){$(".c_view").removeClass("btn-primary");$("#"+a.target.id).addClass("btn-primary")});$("#c_genre").click(function(){bb()});$("#c_year").click(function(){bc()});$("#c_none").click(function(){ba()});})})